# README  
**УВМ на допуск (Вариант №10)**

## Описание проекта
Проект реализует учебную виртуальную машину (УВМ) и инструменты для работы с ней:  

**Ассемблер (`uvm_asm.py`)** — преобразует программу с JSON-синтаксисом в бинарный формат УВМ  
**Интерпретатор (`uvm_interp.py`)** — исполняет бинарный код УВМ и формирует дамп памяти  
**GUI (Tkinter и Web через Flask)** — позволяет писать, ассемблировать и запускать программы визуально  
**Тестовые программы и дампы** — примеры вычисления `popcnt()` над векторами длины 8  



## Язык ассемблера УВМ
Ассемблер использует человекочитаемый JSON-синтаксис.  
Каждая инструкция задаётся объектом с полями:  

- `op` — команда  
- `B`, `C`, `D` — аргументы (зависят от команды)  

Пример инструкции:  
json
{ "op": "load_const", "B": 3, "C": 100 }
{ "op": "popcnt", "B": 0, "C": 300, "D": 100 }

Поддерживаемые инструкции
Загрузка константы в память: load_const
Формат: { "op": "load_const", "B": адрес, "C": значение }

Описание: сохранить число C в ячейку памяти B.

Операция подсчёта единиц в числе: popcnt
Формат: { "op": "popcnt", "B": индекс_вектора, "C": адрес_результата, "D": адрес_источника }

Описание:

python
Копировать код
memory[C + B] = bin(memory[D]).count("1")
Прочие (read/write)
read_value: чтение значения из памяти по адресу

write_value: запись значения в память по вычисляемому адресу

Структура проекта
perl
Копировать код
uvm-variant10/
│
├── json/          # Исходные JSON-программы
├── dump/          # Дамп памяти после выполнения программ (.csv)
├── uvm_asm.py     # Ассемблер
├── uvm_interp.py  # Интерпретатор
├── uvm_gui.py     # GUI через Tkinter
├── uvm_gui_web.py # GUI через Web (Flask)
├── templates/
│   └── index.html # Шаблон для веб-GUI
├── README.md      # Документация
├── requirements.txt # Зависимости для веб-GUI
Запуск ассемблера
bash
Копировать код
python uvm_asm.py -i json/test_basic.json -o dump/basic.bin -t
Опция -t выводит IR и байткод

Запуск интерпретатора
bash
Копировать код
python uvm_interp.py -i dump/basic.bin -o dump/basic_dump.csv -r 100-110
-r — диапазон адресов для дампа памяти

Запуск GUI (Tkinter)
bash
Копировать код
python uvm_gui.py
Позволяет:

редактировать программу JSON

ассемблировать и запускать интерпретатор

просматривать IR, байткод и дамп памяти

сохранять бинарник и CSV дамп

Запуск GUI в браузере (Flask)
Установить зависимости:

bash
Копировать код
pip install -r requirements.txt
Запустить приложение:

bash
Копировать код
python uvm_gui_web.py
Открыть в браузере: http://localhost:5000

Этап 5: Решение тестовой задачи (popcnt для векторов длины 8)
Программа vector_popcnt.json
json
Копировать код
[
  { "op": "load_const", "B": 3, "C": 100 },
  { "op": "load_const", "B": 7, "C": 101 },
  ...
  { "op": "popcnt", "B": 0, "C": 300, "D": 100 },
  { "op": "popcnt", "B": 1, "C": 300, "D": 101 },
  ...
]
Результат записывается в адреса 300-307

Дамп: vector_dump.csv

Дополнительные тестовые программы
vector_popcnt_alt1.json → дамп vector_alt1_dump.csv

vector_popcnt_alt2.json → дамп vector_alt2_dump.csv

Проверка работы
Все дампы должны совпадать с ожидаемыми результатами по адресам памяти

IR и байткод можно проверить через опцию -t у ассемблера

В GUI результат отображается в дереве памяти и текстовых полях
