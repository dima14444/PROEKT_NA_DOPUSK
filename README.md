Учебная виртуальная машина (УВМ) - Вариант №10
Описание проекта
Проект реализует учебную виртуальную машину (УВМ) и инструменты для работы с ней:

Ассемблер (uvm_asm.py) — преобразует программу с JSON-синтаксисом в бинарный формат УВМ

Интерпретатор (uvm_interp.py) — исполняет бинарный код УВМ и формирует дамп памяти

GUI на Tkinter (uvm_gui.py) — графический интерфейс для написания, ассемблирования и запуска программ

Веб-интерфейс на Flask (uvm_gui_web.py) — веб-версия интерфейса

Тестовые программы — примеры вычисления popcnt() над векторами длины 8

Структура проекта
text
uvm-variant10/
│
├── json/                    # Исходные JSON-программы
├── dump/                    # Дампы памяти после выполнения программ (.csv)
├── uvm_asm.py              # Ассемблер
├── uvm_interp.py           # Интерпретатор
├── uvm_gui.py              # GUI через Tkinter
├── uvm_gui_web.py          # Веб-интерфейс (Flask)
├── templates/
│   └── index.html          # Шаблон для веб-интерфейса
├── README.md               # Документация
└── requirements.txt        # Зависимости для веб-интерфейса
Язык ассемблера УВМ
Ассемблер использует человекочитаемый JSON-синтаксис. Каждая инструкция задаётся объектом с полями:

op — команда

B, C, D — аргументы (зависят от команды)

Пример инструкции:
json
{ "op": "load_const", "B": 3, "C": 100 }
{ "op": "popcnt", "B": 0, "C": 300, "D": 100 }
Поддерживаемые инструкции
1. load_const — загрузка константы в память
Формат:

json
{ "op": "load_const", "B": адрес, "C": значение }
Описание: сохранить число C в ячейку памяти B.

2. popcnt — операция подсчёта единиц в числе
Формат:

json
{ "op": "popcnt", "B": индекс_вектора, "C": адрес_результата, "D": адрес_источника }
Описание:

text
memory[C + B] = bin(memory[D]).count("1")
3. Прочие инструкции
read_value — чтение значения из памяти по адресу

write_value — запись значения в память по вычисляемому адресу

Использование
Запуск ассемблера
bash
python uvm_asm.py -i json/test_basic.json -o dump/basic.bin -t
Опция -t выводит промежуточное представление (IR) и байткод.

Запуск интерпретатора
bash
python uvm_interp.py -i dump/basic.bin -o dump/basic_dump.csv -r 100-110
Опция -r задаёт диапазон адресов для дампа памяти.

Запуск GUI (Tkinter)
bash
python uvm_gui.py
Возможности:

Редактирование программы в формате JSON

Ассемблирование и запуск интерпретатора

Просмотр IR, байткода и дампа памяти

Сохранение бинарного файла и CSV-дампа

Запуск веб-интерфейса (Flask)
Установите зависимости:

bash
pip install -r requirements.txt
Запустите приложение:

bash
python uvm_gui_web.py
Откройте в браузере: http://localhost:5000

Решение тестовой задачи (popcnt для векторов длины 8)
Программа vector_popcnt.json
json
[
  { "op": "load_const", "B": 3, "C": 100 },
  { "op": "load_const", "B": 7, "C": 101 },
  ...
  { "op": "popcnt", "B": 0, "C": 300, "D": 100 },
  { "op": "popcnt", "B": 1, "C": 300, "D": 101 },
  ...
]
Результат: записывается в адреса 300-307.

Дамп: vector_dump.csv

Дополнительные тестовые программы
vector_popcnt_alt1.json → дамп vector_alt1_dump.csv

vector_popcnt_alt2.json → дамп vector_alt2_dump.csv

Проверка работы
Все дампы должны совпадать с ожидаемыми результатами по адресам памяти

IR и байткод можно проверить через опцию -t у ассемблера

В GUI результат отображается в дереве памяти и текстовых полях

Требования
Python 3.7+

Для веб-интерфейса: Flask (устанавливается через requirements.txt)
